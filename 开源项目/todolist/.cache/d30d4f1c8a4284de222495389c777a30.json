{"dependencies":[{"name":"hyperapp"},{"name":"./input.js"},{"name":"./inputclear.js"},{"name":"./add.js"},{"name":"../../entity/todo.js"},{"name":"../../utils/uuid.js"},{"name":"../../utils/store.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _hyperapp = require(\"hyperapp\");\n\nvar _input = require(\"./input.js\");\n\nvar _input2 = _interopRequireDefault(_input);\n\nvar _inputclear = require(\"./inputclear.js\");\n\nvar _inputclear2 = _interopRequireDefault(_inputclear);\n\nvar _add = require(\"./add.js\");\n\nvar _add2 = _interopRequireDefault(_add);\n\nvar _todo = require(\"../../entity/todo.js\");\n\nvar _todo2 = _interopRequireDefault(_todo);\n\nvar _uuid = require(\"../../utils/uuid.js\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _store = require(\"../../utils/store.js\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// input\nvar userInput = function userInput(e, actions) {\n  var keyCode = null;\n  keyCode = e.which ? e.which : e.keyCode;\n  if (keyCode === 13) {\n    var val = e.target.value || '',\n        key = (0, _uuid2.default)();\n    if (val === '') return;\n    var todo = new _todo2.default(key, val, false);\n    _store2.default.setItem(key, todo);\n    actions.add(todo);\n  }\n  e.stopPropagation();\n};\n\n// click\n/*\r\n* @Author: 28906\r\n* @Date:   2018-01-10 09:55:44\r\n* @Last Modified by:   28906\r\n* @Last Modified time: 2018-01-24 23:18:50\r\n* @Description: todo view\r\n*/\nvar userClick = function userClick(e, actions) {\n  var val = document.querySelector('#user-input').value || '',\n      key = (0, _uuid2.default)();\n  if (val === '') return;\n  var todo = new _todo2.default(key, val, false);\n  _store2.default.setItem(key, todo);\n  actions.add(todo);\n  e.stopPropagation();\n};\n\n// handle input clear\nvar handleInputClear = function handleInputClear(e) {\n  document.querySelector('#user-input').value = '';\n  e.target.style.display = 'none';\n};\n\nvar TodoHeader = function TodoHeader(_ref) {\n  var state = _ref.state,\n      actions = _ref.actions;\n  return (0, _hyperapp.h)(\n    \"section\",\n    null,\n    (0, _hyperapp.h)(_input2.default, {\n      placeholder: state.text,\n      onkeypress: function onkeypress(e) {\n        return userInput(e, actions);\n      },\n      id: \"user-input\",\n      onchange: function onchange(e) {\n        if (e.target.value !== '') {\n          e.target.nextElementSibling.style.display = 'block';\n        } else {\n          e.target.nextElementSibling.style.display = 'none';\n        }\n      }\n    }),\n    (0, _hyperapp.h)(_inputclear2.default, {\n      onclick: function onclick(e) {\n        return handleInputClear(e);\n      }\n    }),\n    (0, _hyperapp.h)(_add2.default, { onclick: function onclick(e) {\n        return userClick(e, actions);\n      } })\n  );\n};\n\nexports.default = TodoHeader;"},"hash":"0306a63bd46aaee5aff44898a0b02a0a"}