{"dependencies":[{"name":"../utils/store.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _store = require(\"../utils/store.js\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*\r\n                                                                                                                                                                                                    * @Author: 28906\r\n                                                                                                                                                                                                    * @Date:   2018-01-06 01:07:45\r\n                                                                                                                                                                                                    * @Last Modified by:   28906\r\n                                                                                                                                                                                                    * @Last Modified time: 2018-01-25 00:13:00\r\n                                                                                                                                                                                                    * @Description: actions, change the state must use actions!\r\n                                                                                                                                                                                                    */\n\n\nvar actions = {\n  add: function add(todo) {\n    return function (state) {\n      return { todos: [].concat(_toConsumableArray(state.todos), [todo]) };\n    };\n  },\n  del: function del(todo) {\n    return function (state) {\n      return state.todos = state.todos.filter(function (item) {\n        return item.id !== todo.id;\n      });\n    };\n  },\n  empty: function empty() {\n    return function (state) {\n      return state.todos = [];\n    };\n  },\n  completed: function completed(key) {\n    return function (state) {\n      [].concat(_toConsumableArray(state.todos)).map(function (item) {\n        if (item.id === key) {\n          item.completed = true;\n          _store2.default.update(key);\n        }\n      });\n    };\n  },\n  pushLocalStorageData: function pushLocalStorageData(arr) {\n    return function (state) {\n      state.todos = [];\n      return { todos: arr };\n    };\n  },\n  goPage: function goPage() {\n    var pageNo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n    return function (state) {\n      var startPageNo = 1,\n          offset = (pageNo - 1) * pageSize,\n          size = state.todos.length,\n          pages = size / pageSize,\n          endPageNo = pages > ~~pages ? ~~pages + 1 : ~~pages;\n\n      if (pageNo >= startPageNo && pageNo <= endPageNo) {\n        return offset + pageSize > size ? state.todos.slice(offset, size) : state.todos.slice(offset, pageSize);\n      }\n    };\n  }\n};\n\nexports.default = actions;"},"hash":"a90d6d473dc17261d52604287a5c7beb"}