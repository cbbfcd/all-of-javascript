{"version":3,"file":"picostyle.js","sources":["../src/index.js"],"sourcesContent":["var _id = 0\nvar sheet = document.head.appendChild(document.createElement(\"style\")).sheet\n\nfunction hyphenate(str) {\n  return str.replace(/[A-Z]/g, \"-$&\").toLowerCase()\n}\n\nfunction insert(rule) {\n  sheet.insertRule(rule, 0)\n}\n\nfunction createRule(className, decls, media) {\n  var newDecls = []\n  for (var property in decls) {\n    typeof decls[property] !== \"object\" &&\n      newDecls.push(hyphenate(property) + \":\" + decls[property] + \";\")\n  }\n  var rule = \".\" + className + \"{\" + newDecls.join(\"\") + \"}\"\n  return media ? media + \"{\" + rule + \"}\" : rule\n}\n\nfunction concat(str1, str2) {\n  return str1 + (/^\\w/.test(str2) ? \" \" : \"\") + str2\n}\n\nfunction parse(decls, child, media, className) {\n  child = child || \"\"\n  className = className || \"p\" + (_id++).toString(36)\n\n  for (var property in decls) {\n    var value = decls[property]\n    if (typeof value === \"object\") {\n      var nextMedia = /^@/.test(property) ? property : null\n      var nextChild = nextMedia ? child : concat(child, property)\n      parse(value, nextChild, nextMedia, className)\n    }\n  }\n\n  insert(createRule(concat(className, child), decls, media))\n  return className\n}\n\nexport default function(h) {\n  return function(type) {\n    return function(decls) {\n      var parsed\n      var isDeclsFunction = typeof decls === \"function\"\n      !isDeclsFunction && (parsed = parse(decls))\n      return function(props, children) {\n        props = props || {}\n        isDeclsFunction && (parsed = parse(decls(props)))\n        var node = h(type, props, children)\n        node.props.class = ((node.props.class || \"\") +\n          \" \" +\n          (props.class || \"\") +\n          \" \" +\n          parsed\n        ).trim()\n        return node\n      }\n    }\n  }\n}\n"],"names":["hyphenate","str","replace","toLowerCase","insert","rule","sheet","insertRule","createRule","className","decls","media","newDecls","property","push","join","concat","str1","str2","test","parse","child","_id","toString","value","nextMedia","document","head","appendChild","createElement","h","type","parsed","isDeclsFunction","props","children","node","class","trim"],"mappings":"qLAGA,SAASA,EAAUC,GACjB,OAAOA,EAAIC,QAAQ,SAAU,OAAOC,cAGtC,SAASC,EAAOC,GACdC,EAAMC,WAAWF,EAAM,GAGzB,SAASG,EAAWC,EAAWC,EAAOC,GACpC,IAAIC,KACJ,IAAK,IAAIC,KAAYH,EACQ,iBAApBA,EAAMG,IACXD,EAASE,KAAKd,EAAUa,GAAY,IAAMH,EAAMG,GAAY,KAEhE,IAAIR,EAAO,IAAMI,EAAY,IAAMG,EAASG,KAAK,IAAM,IACvD,OAAOJ,EAAQA,EAAQ,IAAMN,EAAO,IAAMA,EAG5C,SAASW,EAAOC,EAAMC,GACpB,OAAOD,GAAQ,MAAME,KAAKD,GAAQ,IAAM,IAAMA,EAGhD,SAASE,EAAMV,EAAOW,EAAOV,EAAOF,GAClCY,EAAQA,GAAS,GACjBZ,EAAYA,GAAa,KAAOa,KAAOC,SAAS,IAEhD,IAAK,IAAIV,KAAYH,EAAO,CAC1B,IAAIc,EAAQd,EAAMG,GAClB,GAAqB,iBAAVW,EAAoB,CAC7B,IAAIC,EAAY,KAAKN,KAAKN,GAAYA,EAAW,KAEjDO,EAAMI,EADUC,EAAYJ,EAAQL,EAAOK,EAAOR,GAC1BY,EAAWhB,IAKvC,OADAL,EAAOI,EAAWQ,EAAOP,EAAWY,GAAQX,EAAOC,IAC5CF,EAvCT,IAAIa,EAAM,EACNhB,EAAQoB,SAASC,KAAKC,YAAYF,SAASG,cAAc,UAAUvB,aAyCxD,SAASwB,GACtB,OAAO,SAASC,GACd,OAAO,SAASrB,GACd,IAAIsB,EACAC,EAAmC,mBAAVvB,EAE7B,OADCuB,IAAoBD,EAASZ,EAAMV,IAC7B,SAASwB,EAAOC,GACrBD,EAAQA,MACRD,IAAoBD,EAASZ,EAAMV,EAAMwB,KACzC,IAAIE,EAAON,EAAEC,EAAMG,EAAOC,GAO1B,OANAC,EAAKF,MAAMG,QAAUD,EAAKF,MAAMG,OAAS,IACvC,KACCH,EAAMG,OAAS,IAChB,IACAL,GACAM,OACKF"}