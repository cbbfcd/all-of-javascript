<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>简单路由实现</title>
</head>
<body>
	<ul>
		<li><a href='#/'>/</a></li>
		<li><a href='#/orange'>/orange</a></li>
		<li><a href='#/pink'>/pink</a></li>
	</ul>
</body>
<script type="text/javascript">
	// 定义一个简单的路由
	function Router(){
		this.routes = {};
		this.currUrl = '';
	}

	Router.prototype.route = function(path, cb){
		this.routes[path] = cb || function(){};
	}

	Router.prototype.reload = function(){
		this.currUrl = location.hash.slice(1) || '/';
		this.routes[this.currUrl]();
	}

	Router.prototype.init = function(){
		window.addEventListener('load', this.reload.bind(this), false);
		window.addEventListener('hashchange', this.reload.bind(this), false);
	}

	window.Router = new Router();
	window.Router.init();

	function changeBGColor(color){
		document.body.style.backgroundColor = color;
	}

	Router.route('/', function(){
		changeBGColor('white')
	});
	Router.route('/pink', function(){
		changeBGColor('pink')
	});
	Router.route('/orange', function(){
		changeBGColor('orange')
	});
</script>
</html>